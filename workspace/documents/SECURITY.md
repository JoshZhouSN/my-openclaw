# Moltbot安全配置指南

本文档记录了Moltbot的安全配置最佳实践和当前部署状态。

## 安全配置清单

### 1. 网络配置
- ✅ 网关绑定到本地回环接口（`"bind": "loopback"`）
- ✅ 防火墙已启用（UFW）
- ✅ 入站流量默认拒绝
- ✅ 出站流量默认允许
- ✅ 仅允许本地访问端口18789

### 2. 认证与授权
- ✅ 令牌认证已启用
- ✅ 安全令牌已配置

### 3. 系统安全
- ✅ 文件权限已设置
- ✅ mDNS广播已禁用
- ✅ Node.js版本已更新

## 当前安全状态

### 防火墙规则
```
To                         Action      From
--                         ------      ----
22/tcp                     ALLOW IN    Anywhere                  
18789                      ALLOW IN    127.0.0.1                 
22/tcp (v6)                ALLOW IN    Anywhere (v6)
```

### 网络绑定
- 端口18789仅监听127.0.0.1
- 外部无法直接访问Moltbot网关

## 安全检查

### 定期检查项
1. 防火墙状态
2. 网络监听端口
3. 文件权限
4. 认证令牌安全

### 监控指标
- 异常访问尝试
- 系统日志警告
- 服务可用性

## 应急响应

### 怀疑被入侵时的步骤
1. 检查系统日志
2. 验证防火墙规则
3. 更换认证令牌
4. 检查系统进程

## 部署记录

详见 `security-deployment-log.md` 文件，记录了2026年1月29日的安全加固操作。

## 参考资料

- Nick Spisak关于Moltbot安全性的X帖子
- Moltbot官方安全文档
- Ubuntu防火墙(UFW)配置指南